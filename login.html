<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="login.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
    <div class="container">
        <h1><center> Welcome</center></h1>
        <hr>
  
        <label for="email"><b>Email</b></label>
        <input type="text" placeholder="Enter Email" name="email" id="email" required>
  
        <label for="psw"><b>Password</b></label>
        <input type="password" placeholder="Enter Password" name="psw" id="psw" required>
  
        <div class="clearfix">
        <center>
          <button type="submit" class="signupbtn" onClick="login()">Sign In</button>
        </center>
       </div>
      <div style="padding-top: 20px; padding-bottom: 10px;">
      <a href="forgot.html" ><center> Forgotten password?</center></a></div>
      <hr>
      <div class="clearfix">
        <center>
          <button type="submit" style="background-color: rgb(18, 219, 102);" class="signupbtn" onClick="location.href='signup.html'">Create new Account</button>
        </center>
       </div>
    </form>
  </div>
</body>

<script >
  // import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js'
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyDVi8wcCsGJcd_PA-ALpZ40EpQNl2-H2Zs",
    authDomain: "project-c8ea6.firebaseapp.com",
    databaseURL: "https://project-c8ea6-default-rtdb.firebaseio.com",
    projectId: "project-c8ea6",
    storageBucket: "project-c8ea6.appspot.com",
    messagingSenderId: "51783948628",
    appId: "1:51783948628:web:82f22609fecb5580d290c1",
    measurementId: "G-CGYP6GYJGX"
  };
  const app = firebase.initializeApp(firebaseConfig);
  const database = firebase.database();
  const dbref = database.ref();
  function login (){
    var email= document.getElementById("email").value;
    var pass =document.getElementById("psw").value;
    database.ref("user").once('value', (snapshot) => {
    snapshot.forEach((childSnapshot) => {
    var childKey = childSnapshot.key;
    var childData = childSnapshot.val();
    if (childData.email == email && childData.password == pass)
    { 
      location.href='index.html'
      
    }
    // ...
    });
  });
  };
</script>


</html>

